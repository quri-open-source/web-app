<mat-card *ngIf="fulfillment$ | async as fulfillment" class="fulfillment-detail-card">
  <mat-card-header>
    <mat-card-title>
      <mat-icon color="accent">assignment</mat-icon>
      {{ 'fulfillments.cardTitle' | translate: { id: fulfillment.id } }}
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div><strong>{{ 'fulfillments.id' | translate }}:</strong> {{ fulfillment.id }}</div>
    <div><strong>{{ 'fulfillments.created' | translate }}:</strong> {{ fulfillment.createdAt | date:'medium' }}</div>
    <div><strong>{{ 'fulfillments.status' | translate }}:</strong> {{ fulfillment.status }}</div>
    <div><strong>Order ID:</strong> {{ fulfillment.orderId }}</div>
    <div><strong>Received Date:</strong> {{ fulfillment.receivedDate | date:'medium' }}</div>
    <div><strong>Shipped Date:</strong> {{ fulfillment.shippedDate | date:'medium' }}</div>
    <div><strong>Manufacturer ID:</strong> {{ fulfillment.manufacturerId }}</div>
  </mat-card-content>
</mat-card>

<mat-card class="fulfillment-items-card">
  <mat-card-header>
    <mat-card-title>
      <mat-icon color="primary">list</mat-icon>
      Items
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>

    <table *ngIf="items$ | async as items" class="items-table">
      <thead>
        <tr>
          <th style="text-align:left; padding: 8px 12px;">Product ID</th>
          <th style="text-align:right; padding: 8px 12px;">Quantity</th>
          <th style="text-align:center; padding: 8px 12px;">Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of items">
          <td style="text-align:left; padding: 8px 12px;">{{ item.productId }}</td>
          <td style="text-align:right; padding: 8px 12px;">{{ item.quantity }}</td>
          <td style="text-align:center; padding: 8px 12px;">{{ item.status }}</td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="(items$ | async)?.length === 0">
      No items found for this fulfillment.
    </div>
  </mat-card-content>
</mat-card>

<style>
.items-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1rem;
}
.items-table th, .items-table td {
  border-bottom: 1px solid #e0e0e0;
  font-size: 15px;
}
.items-table th {
  background: #f5f5f5;
  font-weight: 600;
}
.items-table tr:last-child td {
  border-bottom: none;
}
</style>

<div class="authentication-section">
  <!-- User is signed in -->
  <div
    *ngIf="isSignedIn$ | async; else signedOutTemplate"
    class="signed-in-section"
  >
    <button mat-button [matMenuTriggerFor]="userMenu" class="user-menu-button">
      <mat-icon>account_circle</mat-icon>
      <span class="username">{{ currentUsername$ | async }}</span>
      <mat-icon>arrow_drop_down</mat-icon>
    </button>

    <mat-menu #userMenu="matMenu">
      <button mat-menu-item (click)="goToProfile()">
        <mat-icon>person</mat-icon>
        <span>Profile</span>
      </button>
      <mat-divider></mat-divider>
      <button mat-menu-item (click)="onSignOut()">
        <mat-icon>logout</mat-icon>
        <span>Sign Out</span>
      </button>
    </mat-menu>
  </div>

  <!-- User is not signed in -->
  <ng-template #signedOutTemplate>
    <div class="signed-out-section">
      <button mat-button (click)="goToSignIn()" class="sign-in-button">
        Sign In
      </button>
      <button
        mat-raised-button
        color="primary"
        (click)="goToSignUp()"
        class="sign-up-button"
      >
        Sign Up
      </button>
    </div>
  </ng-template>
</div>
